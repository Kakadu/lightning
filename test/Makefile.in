

MLPPOPT = ../src/syntax/pa_prop.cmo ../src/syntax/pa_debug.cmo -enable-debug default

MLFLAGS += -I ../src -package extlib -package ojson -I ../src/social

MLFILES = panelbg.cmo testz.cmo


example.byte: $(MLFILES) example.cmo 
	$(OCAMLC) -custom -verbose -o test.byte  -g  \
	-I ../src ../src/lightning.cma ../src/social/OK.cmo $(MLFILES) example.cmo \
	-package curl,bigarray,extlib,xmlm,ojson,dbm,threads -thread -linkpkg 

example.cmo: $(MLFILES)

MLXFILES = $(MLFILES:.cmo=.cmx)

example.cmx: $(MLXFILES)

SOCIAL= ../src/social/oauth/oauth.cmxa ../src/social/OK.cmx ../src/social/VK.cmx -ccopt -L../src/social/oauth

example.native: $(MOBS) $(MLXFILES) example.cmx
	$(OCAMLOPT) -verbose -o test.native  -g  \
	-I ../src ../src/lightning.cmxa  $(SOCIAL) $(MOBS) $(MLXFILES) example.cmx \
	-package extlib,xmlm,dbm,ojson,bigarray,threads -thread -linkpkg 

.PHONY: clean
clean::
	rm -f *.o *.cmo *.cmx *.cmi *.byte *.native
